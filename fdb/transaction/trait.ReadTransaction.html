<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A read-only subset of a FDB `Transaction`."><title>ReadTransaction in fdb::transaction - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-07416f8512e0e04c.css" id="mainThemeStyle"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="fdb" data-themes="" data-resource-suffix="" data-rustdoc-version="1.73.0-nightly (da6b55cc5 2023-07-17)" data-channel="nightly" data-search-js="search-f6292fe389d70017.js" data-settings-js="settings-de11bff964e9d4e5.js" data-settings-css="settings-8c76f75bfb6bd192.css" data-theme-light-css="light-6d2c9675f3d09c26.css" data-theme-dark-css="dark-45ceb8f2e522f4d1.css" data-theme-ayu-css="ayu-fd19013d6ce078bf.css" ><script src="../../static.files/storage-db41da1a38ea3cb8.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-0795b7d26be81095.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-6d2c9675f3d09c26.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-45ceb8f2e522f4d1.css"><link rel="stylesheet" href="../../static.files/noscript-cffde32267a19fd6.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../fdb/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../fdb/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">ReadTransaction</a></h2><div class="sidebar-elems"><section><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.get">get</a></li><li><a href="#tymethod.get_addresses_for_key">get_addresses_for_key</a></li><li><a href="#tymethod.get_estimated_range_size_bytes">get_estimated_range_size_bytes</a></li><li><a href="#tymethod.get_key">get_key</a></li><li><a href="#tymethod.get_mapped_range">get_mapped_range</a></li><li><a href="#tymethod.get_range">get_range</a></li><li><a href="#tymethod.get_range_split_points">get_range_split_points</a></li><li><a href="#tymethod.get_read_version">get_read_version</a></li><li><a href="#tymethod.on_error">on_error</a></li><li><a href="#tymethod.set_option">set_option</a></li><li><a href="#tymethod.set_read_version">set_read_version</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In fdb::transaction</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">fdb</a>::<wbr><a href="index.html">transaction</a>::<wbr><a class="trait" href="#">ReadTransaction</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/fdb/transaction/read_transaction.rs.html#32-208">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait ReadTransaction {
    // Required methods
    unsafe fn <a href="#tymethod.on_error" class="fn">on_error</a>(&amp;self, e: <a class="struct" href="../error/struct.FdbError.html" title="struct fdb::error::FdbError">FdbError</a>) -&gt; <a class="type" href="../future/type.FdbFutureUnit.html" title="type fdb::future::FdbFutureUnit">FdbFutureUnit</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, key: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;) -&gt; <a class="type" href="../future/type.FdbFutureMaybeValue.html" title="type fdb::future::FdbFutureMaybeValue">FdbFutureMaybeValue</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_addresses_for_key" class="fn">get_addresses_for_key</a>(
        &amp;self,
        key: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;
    ) -&gt; <a class="type" href="../future/type.FdbFutureCStringArray.html" title="type fdb::future::FdbFutureCStringArray">FdbFutureCStringArray</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_estimated_range_size_bytes" class="fn">get_estimated_range_size_bytes</a>(&amp;self, range: <a class="struct" href="../range/struct.Range.html" title="struct fdb::range::Range">Range</a>) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_key" class="fn">get_key</a>(&amp;self, selector: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>) -&gt; <a class="type" href="../future/type.FdbFutureKey.html" title="type fdb::future::FdbFutureKey">FdbFutureKey</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_mapped_range" class="fn">get_mapped_range</a>(
        &amp;self,
        begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
        end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
        mapper: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Mapper.html" title="struct fdb::Mapper">Mapper</a>&gt;,
        options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a>
    ) -&gt; <a class="struct" href="../future/struct.FdbStreamMappedKeyValue.html" title="struct fdb::future::FdbStreamMappedKeyValue">FdbStreamMappedKeyValue</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_range" class="fn">get_range</a>(
        &amp;self,
        begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
        end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
        options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a>
    ) -&gt; <a class="struct" href="../future/struct.FdbStreamKeyValue.html" title="struct fdb::future::FdbStreamKeyValue">FdbStreamKeyValue</a>;
<span class="item-spacer"></span>    fn <a href="#tymethod.get_range_split_points" class="fn">get_range_split_points</a>(
        &amp;self,
        begin: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;,
        end: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;,
        chunk_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>
    ) -&gt; <a class="type" href="../future/type.FdbFutureKeyArray.html" title="type fdb::future::FdbFutureKeyArray">FdbFutureKeyArray</a>;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.get_read_version" class="fn">get_read_version</a>(&amp;self) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a>;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.set_option" class="fn">set_option</a>(&amp;self, option: <a class="enum" href="enum.TransactionOption.html" title="enum fdb::transaction::TransactionOption">TransactionOption</a>) -&gt; <a class="type" href="../error/type.FdbResult.html" title="type fdb::error::FdbResult">FdbResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;;
<span class="item-spacer"></span>    unsafe fn <a href="#tymethod.set_read_version" class="fn">set_read_version</a>(&amp;self, version: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>);
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A read-only subset of a FDB <a href="trait.Transaction.html" title="trait fdb::transaction::Transaction"><code>Transaction</code></a>.</p>
</div></details><h2 id="required-methods" class="small-section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.on_error" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#56">source</a><h4 class="code-header">unsafe fn <a href="#tymethod.on_error" class="fn">on_error</a>(&amp;self, e: <a class="struct" href="../error/struct.FdbError.html" title="struct fdb::error::FdbError">FdbError</a>) -&gt; <a class="type" href="../future/type.FdbFutureUnit.html" title="type fdb::future::FdbFutureUnit">FdbFutureUnit</a></h4></section></summary><div class="docblock"><p>Determines whether an error returned by a <a href="trait.Transaction.html" title="trait fdb::transaction::Transaction"><code>Transaction</code></a>
or <a href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction"><code>ReadTransaction</code></a> method is retryable. Waiting on the returned future will
return the same error when fatal, or return <code>()</code> for retryable
errors.</p>
<p>Typical code will not use this method directly. It is used by
<a href="../database/struct.FdbDatabase.html#method.run" title="method fdb::database::FdbDatabase::run"><code>run</code></a> and <a href="../database/struct.FdbDatabase.html#method.read" title="method fdb::database::FdbDatabase::read"><code>read</code></a> methods when they need to implement
correct retry loop.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async unsafe fn </span>on_error(<span class="kw-2">&amp;</span><span class="self">self</span>, e: FdbError) -&gt; FdbResult&lt;()&gt;</code></pre></div>
<h5 id="safety"><a href="#safety">Safety</a></h5>
<p>See <a href="https://apple.github.io/foundationdb/api-c.html#c.fdb_transaction_on_error">C API</a> for more details.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#65">source</a><h4 class="code-header">fn <a href="#tymethod.get" class="fn">get</a>(&amp;self, key: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;) -&gt; <a class="type" href="../future/type.FdbFutureMaybeValue.html" title="type fdb::future::FdbFutureMaybeValue">FdbFutureMaybeValue</a></h4></section></summary><div class="docblock"><p>Gets a value from the database.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async fn </span>get(<span class="kw-2">&amp;</span><span class="self">self</span>, key: <span class="kw">impl </span>Into&lt;Key&gt;) -&gt; FdbResult&lt;<span class="prelude-ty">Option</span>&lt;Value&gt;&gt;</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_addresses_for_key" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#78">source</a><h4 class="code-header">fn <a href="#tymethod.get_addresses_for_key" class="fn">get_addresses_for_key</a>(&amp;self, key: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;) -&gt; <a class="type" href="../future/type.FdbFutureCStringArray.html" title="type fdb::future::FdbFutureCStringArray">FdbFutureCStringArray</a></h4></section></summary><div class="docblock"><p>Get a list of public network addresses as <a href="https://doc.rust-lang.org/nightly/alloc/ffi/c_str/struct.CString.html" title="struct alloc::ffi::c_str::CString"><code>CString</code></a>, one for
each of the storage servers responsible for storing <a href="../struct.Key.html" title="struct fdb::Key"><code>Key</code></a>
and its associated value.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async fn </span>get_addresses_for_key(<span class="kw-2">&amp;</span><span class="self">self</span>, key: <span class="kw">impl </span>Into&lt;Key&gt;) -&gt; FdbResult&lt;Vec&lt;CString&gt;&gt;;</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_estimated_range_size_bytes" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#100">source</a><h4 class="code-header">fn <a href="#tymethod.get_estimated_range_size_bytes" class="fn">get_estimated_range_size_bytes</a>(&amp;self, range: <a class="struct" href="../range/struct.Range.html" title="struct fdb::range::Range">Range</a>) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a></h4></section></summary><div class="docblock"><p>Gets an estimate for the number of bytes stored in the given
range.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async fn </span>get_estimated_range_size_bytes(<span class="kw-2">&amp;</span><span class="self">self</span>, range: Range) -&gt; FdbResult&lt;i64&gt;</code></pre></div>
<h5 id="note"><a href="#note">Note</a></h5>
<p>The estimated size is calculated based on the sampling done by
FDB server. The sampling algorithm roughly works this way: The
sampling algorithm works roughly in this way: the lager the
key-value pair is, the more likely it would be sampled and the
more accurate its sampled size would be. And due to that
reason, it is recommended to use this API to query against
large ranges for accuracy considerations. For a rough
reference, if the returned size is larger than 3MB, one can
consider the size to be accurate.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_key" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#109">source</a><h4 class="code-header">fn <a href="#tymethod.get_key" class="fn">get_key</a>(&amp;self, selector: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>) -&gt; <a class="type" href="../future/type.FdbFutureKey.html" title="type fdb::future::FdbFutureKey">FdbFutureKey</a></h4></section></summary><div class="docblock"><p>Returns the key referenced by the specificed <a href="../struct.KeySelector.html" title="struct fdb::KeySelector"><code>KeySelector</code></a>.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async fn </span>get_key(<span class="kw-2">&amp;</span><span class="self">self</span>, selector: KeySelector) -&gt; FdbResult&lt;Key&gt;</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_mapped_range" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#122-128">source</a><h4 class="code-header">fn <a href="#tymethod.get_mapped_range" class="fn">get_mapped_range</a>(
    &amp;self,
    begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
    end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
    mapper: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Mapper.html" title="struct fdb::Mapper">Mapper</a>&gt;,
    options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a>
) -&gt; <a class="struct" href="../future/struct.FdbStreamMappedKeyValue.html" title="struct fdb::future::FdbStreamMappedKeyValue">FdbStreamMappedKeyValue</a></h4></section></summary><div class="docblock"><p>WARNING: This feature is considered experimental at this time.</p>
<p>Gets an ordered range of mapped keys and values from the
database.</p>
<p>The returned <a href="../future/struct.FdbStreamMappedKeyValue.html" title="struct fdb::future::FdbStreamMappedKeyValue"><code>FdbStreamMappedKeyValue</code></a> implements <a href="../../futures_core/stream/trait.Stream.html" title="trait futures_core::stream::Stream"><code>Stream</code></a>
trait that yields a <a href="../struct.MappedKeyValue.html" title="struct fdb::MappedKeyValue"><code>MappedKeyValue</code></a> item.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_range" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#137-142">source</a><h4 class="code-header">fn <a href="#tymethod.get_range" class="fn">get_range</a>(
    &amp;self,
    begin: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
    end: <a class="struct" href="../struct.KeySelector.html" title="struct fdb::KeySelector">KeySelector</a>,
    options: <a class="struct" href="../range/struct.RangeOptions.html" title="struct fdb::range::RangeOptions">RangeOptions</a>
) -&gt; <a class="struct" href="../future/struct.FdbStreamKeyValue.html" title="struct fdb::future::FdbStreamKeyValue">FdbStreamKeyValue</a></h4></section></summary><div class="docblock"><p>Gets an ordered range of keys and values from the database.</p>
<p>The returned <a href="../future/struct.FdbStreamKeyValue.html" title="struct fdb::future::FdbStreamKeyValue"><code>FdbStreamKeyValue</code></a> implements <a href="../../futures_core/stream/trait.Stream.html" title="trait futures_core::stream::Stream"><code>Stream</code></a> trait
that yields a <a href="../struct.KeyValue.html" title="struct fdb::KeyValue"><code>KeyValue</code></a> item.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_range_split_points" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#158-163">source</a><h4 class="code-header">fn <a href="#tymethod.get_range_split_points" class="fn">get_range_split_points</a>(
    &amp;self,
    begin: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;,
    end: impl <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../struct.Key.html" title="struct fdb::Key">Key</a>&gt;,
    chunk_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>
) -&gt; <a class="type" href="../future/type.FdbFutureKeyArray.html" title="type fdb::future::FdbFutureKeyArray">FdbFutureKeyArray</a></h4></section></summary><div class="docblock"><p>Gets a list of keys that can split the given range into
(roughly) equally sized chunks based on <code>chunk_size</code>.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async fn </span>get_range_split_points(
    <span class="kw-2">&amp;</span><span class="self">self</span>,
    begin: <span class="kw">impl </span>Into&lt;Key&gt;,
    end: <span class="kw">impl </span>Into&lt;Key&gt;,
    chunk_size: i64,
) -&gt; FdbResult&lt;Vec&lt;Key&gt;&gt;</code></pre></div>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.get_read_version" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#187">source</a><h4 class="code-header">unsafe fn <a href="#tymethod.get_read_version" class="fn">get_read_version</a>(&amp;self) -&gt; <a class="type" href="../future/type.FdbFutureI64.html" title="type fdb::future::FdbFutureI64">FdbFutureI64</a></h4></section></summary><div class="docblock"><p>Gets the version at which the reads for this <a href="trait.Transaction.html" title="trait fdb::transaction::Transaction"><code>Transaction</code></a>
or <a href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction"><code>ReadTransaction</code></a> will access the database.</p>
<p>Equivalent to:</p>

<div class="example-wrap ignore"><a href="#" class="tooltip" title="This example is not tested">ⓘ</a><pre class="rust rust-example-rendered"><code><span class="kw">async unsafe fn </span>get_read_version(<span class="kw-2">&amp;</span><span class="self">self</span>) -&gt; FdbResult&lt;i64&gt;</code></pre></div>
<h5 id="safety-1"><a href="#safety-1">Safety</a></h5>
<p>The <a href="../future/struct.FdbFuture.html" title="struct fdb::future::FdbFuture"><code>FdbFuture</code></a> resolves to an <a href="https://doc.rust-lang.org/nightly/std/primitive.i64.html" title="primitive i64"><code>i64</code></a> instead of a <a href="https://doc.rust-lang.org/nightly/std/primitive.u64.html" title="primitive u64"><code>u64</code></a>
because of <a href="https://github.com/apple/foundationdb/blob/6.3.22/fdbclient/FDBTypes.h#L32">internal representation</a>. Even though it is an
<a href="https://doc.rust-lang.org/nightly/std/primitive.i64.html" title="primitive i64"><code>i64</code></a>, the future will always return a positive
number. Negative GRV numbers are used internally within FDB.</p>
<p>You only rely on GRV only for read-only transactions. For
read-write transactions you should use commit version.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.set_option" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#197">source</a><h4 class="code-header">unsafe fn <a href="#tymethod.set_option" class="fn">set_option</a>(&amp;self, option: <a class="enum" href="enum.TransactionOption.html" title="enum fdb::transaction::TransactionOption">TransactionOption</a>) -&gt; <a class="type" href="../error/type.FdbResult.html" title="type fdb::error::FdbResult">FdbResult</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Set options on a <a href="trait.Transaction.html" title="trait fdb::transaction::Transaction"><code>Transaction</code></a> or <a href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction"><code>ReadTransaction</code></a></p>
<h5 id="safety-2"><a href="#safety-2">Safety</a></h5>
<p>Setting transaction timeout or retry limits can cause
transactions to fail in an inconsistent state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.set_read_version" class="method"><a class="src rightside" href="../../src/fdb/transaction/read_transaction.rs.html#207">source</a><h4 class="code-header">unsafe fn <a href="#tymethod.set_read_version" class="fn">set_read_version</a>(&amp;self, version: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.i64.html">i64</a>)</h4></section></summary><div class="docblock"><p>Directly sets the version of the database at which to execute
reads.</p>
<h5 id="safety-3"><a href="#safety-3">Safety</a></h5>
<p>See <a href="https://apple.github.io/foundationdb/api-c.html#c.fdb_transaction_set_read_version">C API</a> for more details.</p>
</div></details></div><h2 id="implementors" class="small-section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-ReadTransaction-for-FdbReadTransaction" class="impl"><a class="src rightside" href="../../src/fdb/transaction/fdb_transaction.rs.html#545-609">source</a><a href="#impl-ReadTransaction-for-FdbReadTransaction" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction">ReadTransaction</a> for <a class="struct" href="struct.FdbReadTransaction.html" title="struct fdb::transaction::FdbReadTransaction">FdbReadTransaction</a></h3></section><section id="impl-ReadTransaction-for-FdbTransaction" class="impl"><a class="src rightside" href="../../src/fdb/transaction/fdb_transaction.rs.html#225-299">source</a><a href="#impl-ReadTransaction-for-FdbTransaction" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.ReadTransaction.html" title="trait fdb::transaction::ReadTransaction">ReadTransaction</a> for <a class="struct" href="struct.FdbTransaction.html" title="struct fdb::transaction::FdbTransaction">FdbTransaction</a></h3></section></div><script src="../../implementors/fdb/transaction/read_transaction/trait.ReadTransaction.js" async></script></section></div></main></body></html>